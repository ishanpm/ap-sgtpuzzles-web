(()=>{var e={8456:(e,t,n)=>{"use strict";n.r(t),n.d(t,{config:()=>r});const r={environment:"production",enableDebug:!1,defaultHost:"archipelago.gg"}},8705:(e,t,n)=>{"use strict";n.d(t,{A:()=>Jn});var r,i,o,s,a=!1,l=!1,c=[],u=-1;function d(e){let t=c.indexOf(e);-1!==t&&t>u&&c.splice(t,1)}function f(){a=!1,l=!0;for(let e=0;e<c.length;e++)c[e](),u=e;c.length=0,u=-1,l=!1}var h=!0;function p(e){i=e}function _(e,t){let n,r=!0,s=i((()=>{let i=e();JSON.stringify(i),r?n=i:queueMicrotask((()=>{t(i,n),n=i})),r=!1}));return()=>o(s)}var m=[],v=[],g=[];function y(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,v.push(t))}function E(e){m.push(e)}function b(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function w(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([n,r])=>{(void 0===t||t.includes(n))&&(r.forEach((e=>e())),delete e._x_attributeCleanups[n])}))}var T=new MutationObserver(z),P=!1;function S(){T.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),P=!0}function O(){!function(){let e=T.takeRecords();x.push((()=>e.length>0&&z(e)));let t=x.length;queueMicrotask((()=>{if(x.length===t)for(;x.length>0;)x.shift()()}))}(),T.disconnect(),P=!1}var x=[];function C(e){if(!P)return e();O();let t=e();return S(),t}var A=!1,N=[];function z(e){if(A)return void(N=N.concat(e));let t=new Set,n=new Set,r=new Map,i=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&("childList"===e[o].type&&(e[o].addedNodes.forEach((e=>1===e.nodeType&&t.add(e))),e[o].removedNodes.forEach((e=>1===e.nodeType&&n.add(e)))),"attributes"===e[o].type)){let t=e[o].target,n=e[o].attributeName,s=e[o].oldValue,a=()=>{r.has(t)||r.set(t,[]),r.get(t).push({name:n,value:t.getAttribute(n)})},l=()=>{i.has(t)||i.set(t,[]),i.get(t).push(n)};t.hasAttribute(n)&&null===s?a():t.hasAttribute(n)?(l(),a()):l()}i.forEach(((e,t)=>{w(t,e)})),r.forEach(((e,t)=>{m.forEach((n=>n(t,e)))}));for(let e of n)t.has(e)||v.forEach((t=>t(e)));t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let e of t)n.has(e)||e.isConnected&&(delete e._x_ignoreSelf,delete e._x_ignore,g.forEach((t=>t(e))),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,n=null,r=null,i=null}function R(e){return L(M(e))}function I(e,t,n){return e._x_dataStack=[t,...M(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function M(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?M(e.host):e.parentNode?M(e.parentNode):[]}function L(e){return new Proxy({objects:e},k)}var k={ownKeys:({objects:e})=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:({objects:e},t)=>t!=Symbol.unscopables&&e.some((e=>Object.prototype.hasOwnProperty.call(e,t)||Reflect.has(e,t))),get:({objects:e},t,n)=>"toJSON"==t?j:Reflect.get(e.find((e=>Reflect.has(e,t)))||{},t,n),set({objects:e},t,n,r){const i=e.find((e=>Object.prototype.hasOwnProperty.call(e,t)))||e[e.length-1],o=Object.getOwnPropertyDescriptor(i,t);return o?.set&&o?.get?o.set.call(r,n)||!0:Reflect.set(i,t,n)}};function j(){return Reflect.ownKeys(this).reduce(((e,t)=>(e[t]=Reflect.get(this,t),e)),{})}function D(e){let t=(n,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach((([i,{value:o,enumerable:s}])=>{if(!1===s||void 0===o)return;if("object"==typeof o&&null!==o&&o.__v_skip)return;let a=""===r?i:`${r}.${i}`;var l;"object"==typeof o&&null!==o&&o._x_interceptor?n[i]=o.initialize(e,a,i):"object"!=typeof(l=o)||Array.isArray(l)||null===l||o===n||o instanceof Element||t(o,a)}))};return t(e)}function U(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,r){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,n)),(e=>$(t,n,e)),n,r)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(r,i,o)=>{let s=e.initialize(r,i,o);return n.initialValue=s,t(r,i,o)}}else n.initialValue=e;return n}}function $(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),$(e[t[0]],t.slice(1),n)}e[t[0]]=n}var K={};function Y(e,t){K[e]=t}function F(e,t){return Object.entries(K).forEach((([n,r])=>{let i=null;Object.defineProperty(e,`$${n}`,{get:()=>r(t,function(){if(i)return i;{let[e,n]=ce(t);return i={interceptor:U,...e},y(t,n),i}}()),enumerable:!1})})),e}function V(e,t,n,...r){try{return n(...r)}catch(n){W(n,e,t)}}function W(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}\n\n${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}var G=!0;function B(e){let t=G;G=!1;let n=e();return G=t,n}function H(e,t,n={}){let r;return J(e,t)((e=>r=e),n),r}function J(...e){return q(...e)}var q=X;function X(e,t){let n={};F(n,e);let r=[n,...M(e)],i="function"==typeof t?function(e,t){return(n=()=>{},{scope:r={},params:i=[]}={})=>{Q(n,t.apply(L([r,...e]),i))}}(r,t):function(e,t,n){let r=function(e,t){if(Z[e])return Z[e];let n=Object.getPrototypeOf((async function(){})).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e;let i=(()=>{try{let t=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(t,"name",{value:`[Alpine] ${e}`}),t}catch(n){return W(n,t,e),Promise.resolve()}})();return Z[e]=i,i}(t,n);return(i=()=>{},{scope:o={},params:s=[]}={})=>{r.result=void 0,r.finished=!1;let a=L([o,...e]);if("function"==typeof r){let e=r(r,a).catch((e=>W(e,n,t)));r.finished?(Q(i,r.result,a,s,n),r.result=void 0):e.then((e=>{Q(i,e,a,s,n)})).catch((e=>W(e,n,t))).finally((()=>r.result=void 0))}}}(r,t,e);return V.bind(null,e,t,i)}var Z={};function Q(e,t,n,r,i){if(G&&"function"==typeof t){let o=t.apply(n,r);o instanceof Promise?o.then((t=>Q(e,t,n,r))).catch((e=>W(e,i,t))):e(o)}else"object"==typeof t&&t instanceof Promise?t.then((t=>e(t))):e(t)}var ee="x-";function te(e=""){return ee+e}var ne={};function re(e,t){return ne[e]=t,{before(t){if(!ne[t])return void console.warn(String.raw`Cannot find directive \`${t}\`. \`${e}\` will use the default order of execution`);const n=ve.indexOf(t);ve.splice(n>=0?n:ve.indexOf("DEFAULT"),0,e)}}}function ie(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let n=Object.entries(e._x_virtualDirectives).map((([e,t])=>({name:e,value:t}))),r=oe(n);n=n.map((e=>r.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),t=t.concat(n)}let r={},i=t.map(de(((e,t)=>r[e]=t))).filter(pe).map(function(e,t){return({name:n,value:r})=>{let i=n.match(_e()),o=n.match(/:([a-zA-Z0-9\-_:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:s.map((e=>e.replace(".",""))),expression:r,original:a}}}(r,n)).sort(ge);return i.map((t=>function(e,t){let n=ne[t.type]||(()=>{}),[r,i]=ce(e);b(e,t.original,i);let o=()=>{e._x_ignore||e._x_ignoreSelf||(n.inline&&n.inline(e,t,r),n=n.bind(n,e,t,r),se?ae.get(le).push(n):n())};return o.runCleanups=i,o}(e,t)))}function oe(e){return Array.from(e).map(de()).filter((e=>!pe(e)))}var se=!1,ae=new Map,le=Symbol();function ce(e){let t=[],[n,r]=function(e){let t=()=>{};return[n=>{let r=i(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(r),t=()=>{void 0!==r&&(e._x_effects.delete(r),o(r))},r},()=>{t()}]}(e);return t.push(r),[{Alpine:ht,effect:n,cleanup:e=>t.push(e),evaluateLater:J.bind(J,e),evaluate:H.bind(H,e)},()=>t.forEach((e=>e()))]}var ue=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r});function de(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:i}=fe.reduce(((e,t)=>t(e)),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:i}}}var fe=[];function he(e){fe.push(e)}function pe({name:e}){return _e().test(e)}var _e=()=>new RegExp(`^${ee}([^:^.]+)\\b`),me="DEFAULT",ve=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",me,"teleport"];function ge(e,t){let n=-1===ve.indexOf(e.type)?me:e.type,r=-1===ve.indexOf(t.type)?me:t.type;return ve.indexOf(n)-ve.indexOf(r)}function ye(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function Ee(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>Ee(e,t)));let n=!1;if(t(e,(()=>n=!0)),n)return;let r=e.firstElementChild;for(;r;)Ee(r,t),r=r.nextElementSibling}function be(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var we=!1,Te=[],Pe=[];function Se(){return Te.map((e=>e()))}function Oe(){return Te.concat(Pe).map((e=>e()))}function xe(e){Te.push(e)}function Ce(e){Pe.push(e)}function Ae(e,t=!1){return Ne(e,(e=>{if((t?Oe():Se()).some((t=>e.matches(t))))return!0}))}function Ne(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return Ne(e.parentElement,t)}}var ze=[];function Re(e,t=Ee,n=()=>{}){!function(){se=!0;let r=Symbol();le=r,ae.set(r,[]);let i=()=>{for(;ae.get(r).length;)ae.get(r).shift()();ae.delete(r)};t(e,((e,t)=>{n(e,t),ze.forEach((n=>n(e,t))),ie(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()})),se=!1,i()}()}function Ie(e,t=Ee){t(e,(e=>{w(e),function(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}(e)}))}var Me=[],Le=!1;function ke(e=()=>{}){return queueMicrotask((()=>{Le||setTimeout((()=>{je()}))})),new Promise((t=>{Me.push((()=>{e(),t()}))}))}function je(){for(Le=!1;Me.length;)Me.shift()()}function De(e,t){return Array.isArray(t)?Ue(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),r=Object.entries(t).flatMap((([e,t])=>!!t&&n(e))).filter(Boolean),i=Object.entries(t).flatMap((([e,t])=>!t&&n(e))).filter(Boolean),o=[],s=[];return i.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),s.push(t))})),r.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),o.push(t))})),()=>{s.forEach((t=>e.classList.add(t))),o.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?De(e,t()):Ue(e,t)}function Ue(e,t){return t=!0===t?t="":t||"",n=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)};var n}function $e(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach((([t,r])=>{n[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,r)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{$e(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function Ke(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function Ye(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=()=>{},r=()=>{}){Ve(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=()=>{},r=()=>{}){Ve(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}function Fe(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Fe(t)}function Ve(e,t,{during:n,start:r,end:i}={},o=()=>{},s=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(r).length&&0===Object.keys(i).length)return o(),void s();let a,l,c;!function(e,t){let n,r,i,o=Ke((()=>{C((()=>{n=!0,r||t.before(),i||(t.end(),je()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:Ke((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()})),finish:o},C((()=>{t.start(),t.during()})),Le=!0,requestAnimationFrame((()=>{if(n)return;let o=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),s=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===o&&(o=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),C((()=>{t.before()})),r=!0,requestAnimationFrame((()=>{n||(C((()=>{t.end()})),je(),setTimeout(e._x_transitioning.finish,o+s),i=!0)}))}))}(e,{start(){a=t(e,r)},during(){l=t(e,n)},before:o,end(){a(),c=t(e,i)},after:s,cleanup(){l(),c()}})}function We(e,t,n){if(-1===e.indexOf(t))return n;const r=e[e.indexOf(t)+1];if(!r)return n;if("scale"===t&&isNaN(r))return n;if("duration"===t||"delay"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}re("transition",((e,{value:t,modifiers:n,expression:r},{evaluate:i})=>{"function"==typeof r&&(r=i(r)),!1!==r&&(r&&"boolean"!=typeof r?function(e,t,n){Ye(e,De,""),{enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}}[n](t)}(e,r,t):function(e,t,n){Ye(e,$e);let r=!t.includes("in")&&!t.includes("out")&&!n,i=r||t.includes("in")||["enter"].includes(n),o=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter(((e,n)=>n<t.indexOf("out")))),t.includes("out")&&!r&&(t=t.filter(((e,n)=>n>t.indexOf("out"))));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity")?0:1,l=s||t.includes("scale")?We(t,"scale",95)/100:1,c=We(t,"delay",0)/1e3,u=We(t,"origin","center"),d="opacity, transform",f=We(t,"duration",150)/1e3,h=We(t,"duration",75)/1e3,p="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(e._x_transition.enter.during={transformOrigin:u,transitionDelay:`${c}s`,transitionProperty:d,transitionDuration:`${f}s`,transitionTimingFunction:p},e._x_transition.enter.start={opacity:a,transform:`scale(${l})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(e._x_transition.leave.during={transformOrigin:u,transitionDelay:`${c}s`,transitionProperty:d,transitionDuration:`${h}s`,transitionTimingFunction:p},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:a,transform:`scale(${l})`})}(e,n,t))})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const i="visible"===document.visibilityState?requestAnimationFrame:setTimeout;let o=()=>i(n);t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):o():e._x_transition?e._x_transition.in(n):o():(e._x_hidePromise=e._x_transition?new Promise(((t,n)=>{e._x_transition.out((()=>{}),(()=>t(r))),e._x_transitioning&&e._x_transitioning.beforeCancel((()=>n({isFromCancelledTransition:!0})))})):Promise.resolve(r),queueMicrotask((()=>{let t=Fe(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):i((()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e?.()));return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var Ge=!1;function Be(e,t=()=>{}){return(...n)=>Ge?t(...n):e(...n)}var He=[];function Je(e){He.push(e)}var qe=!1;function Xe(e){let t=i;p(((e,n)=>{let r=t(e);return o(r),()=>{}})),e(),p(t)}function Ze(e,t,n,i=[]){switch(e._x_bindings||(e._x_bindings=r({})),e._x_bindings[t]=n,t=i.includes("camel")?t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase())):t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked="boolean"==typeof t?tt(e.value)===t:et(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>et(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=void 0===t?"":t}}(e,n);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=$e(e,t)}(e,n);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=De(e,t)}(e,n);break;case"selected":case"checked":!function(e,t,n){Qe(e,t,n),function(e,t,n){e[t]!==n&&(e[t]=n)}(e,t,n)}(e,t,n);break;default:Qe(e,t,n)}}function Qe(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(nt(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}function et(e,t){return e==t}function tt(e){return!![1,"1","true","on","yes",!0].includes(e)||![0,"0","false","off","no",!1].includes(e)&&(e?Boolean(e):null)}function nt(e){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function rt(e,t,n){let r=e.getAttribute(t);return null===r?"function"==typeof n?n():n:""===r||(nt(t)?!![t,"true"].includes(r):r)}function it(e,t){var n;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(r,i)}),t)}}function ot(e,t){let n;return function(){let r=arguments;n||(e.apply(this,r),n=!0,setTimeout((()=>n=!1),t))}}function st({get:e,set:t},{get:n,set:r}){let s,a,l=!0,c=i((()=>{let i=e(),o=n();if(l)r(at(i)),l=!1;else{let e=JSON.stringify(i),n=JSON.stringify(o);e!==s?r(at(i)):e!==n&&t(at(o))}s=JSON.stringify(e()),a=JSON.stringify(n())}));return()=>{o(c)}}function at(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}var lt={},ct=!1,ut={};function dt(e,t,n){let r=[];for(;r.length;)r.pop()();let i=Object.entries(t).map((([e,t])=>({name:e,value:t}))),o=oe(i);return i=i.map((e=>o.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),ie(e,i,n).map((e=>{r.push(e.runCleanups),e()})),()=>{for(;r.length;)r.pop()()}}var ft={},ht={get reactive(){return r},get release(){return o},get effect(){return i},get raw(){return s},version:"3.14.1",flushAndStopDeferringMutations:function(){A=!1,z(N),N=[]},dontAutoEvaluateFunctions:B,disableEffectScheduling:function(e){h=!1,e(),h=!0},startObservingMutations:S,stopObservingMutations:O,setReactivityEngine:function(e){r=e.reactive,o=e.release,i=t=>e.effect(t,{scheduler:e=>{h?function(e){var t;t=e,c.includes(t)||c.push(t),l||a||(a=!0,queueMicrotask(f))}(e):e()}}),s=e.raw},onAttributeRemoved:b,onAttributesAdded:E,closestDataStack:M,skipDuringClone:Be,onlyDuringClone:function(e){return(...t)=>Ge&&e(...t)},addRootSelector:xe,addInitSelector:Ce,interceptClone:Je,addScopeToNode:I,deferMutations:function(){A=!0},mapAttributes:he,evaluateLater:J,interceptInit:function(e){ze.push(e)},setEvaluator:function(e){q=e},mergeProxies:L,extractProp:function(e,t,n,r=!0){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];if(e._x_inlineBindings&&void 0!==e._x_inlineBindings[t]){let n=e._x_inlineBindings[t];return n.extract=r,B((()=>H(e,n.expression)))}return rt(e,t,n)},findClosest:Ne,onElRemoved:y,closestRoot:Ae,destroyTree:Ie,interceptor:U,transition:Ve,setStyles:$e,mutateDom:C,directive:re,entangle:st,throttle:ot,debounce:it,evaluate:H,initTree:Re,nextTick:ke,prefixed:te,prefix:function(e){ee=e},plugin:function(e){(Array.isArray(e)?e:[e]).forEach((e=>e(ht)))},magic:Y,store:function(e,t){if(ct||(lt=r(lt),ct=!0),void 0===t)return lt[e];lt[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&lt[e].init(),D(lt[e])},start:function(){var e;we&&be("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),we=!0,document.body||be("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ye(document,"alpine:init"),ye(document,"alpine:initializing"),S(),e=e=>Re(e,Ee),g.push(e),y((e=>Ie(e))),E(((e,t)=>{ie(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(Oe().join(","))).filter((e=>!Ae(e.parentElement,!0))).forEach((e=>{Re(e)})),ye(document,"alpine:initialized"),setTimeout((()=>{[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach((([e,t,n])=>{var r;r=t,Object.keys(ne).includes(r)||n.some((t=>{if(document.querySelector(t))return be(`found "${t}", but missing ${e} plugin`),!0}))}))}))},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),Ge=!0,qe=!0,Xe((()=>{!function(e){let t=!1;Re(e,((e,n)=>{Ee(e,((e,r)=>{if(t&&function(e){return Se().some((t=>e.matches(t)))}(e))return r();t=!0,n(e,r)}))}))}(t)})),Ge=!1,qe=!1},cloneNode:function(e,t){He.forEach((n=>n(e,t))),Ge=!0,Xe((()=>{Re(t,((e,t)=>{t(e,(()=>{}))}))})),Ge=!1},bound:function(e,t,n){return e._x_bindings&&void 0!==e._x_bindings[t]?e._x_bindings[t]:rt(e,t,n)},$data:R,watch:_,walk:Ee,data:function(e,t){ft[e]=t},bind:function(e,t){let n="function"!=typeof t?()=>t:t;return e instanceof Element?dt(e,n()):(ut[e]=n,()=>{})}};function pt(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}var _t,mt=Object.freeze({}),vt=(Object.freeze([]),Object.prototype.hasOwnProperty),gt=(e,t)=>vt.call(e,t),yt=Array.isArray,Et=e=>"[object Map]"===Pt(e),bt=e=>"symbol"==typeof e,wt=e=>null!==e&&"object"==typeof e,Tt=Object.prototype.toString,Pt=e=>Tt.call(e),St=e=>Pt(e).slice(8,-1),Ot=e=>"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,xt=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ct=/-(\w)/g,At=(xt((e=>e.replace(Ct,((e,t)=>t?t.toUpperCase():"")))),/\B([A-Z])/g),Nt=(xt((e=>e.replace(At,"-$1").toLowerCase())),xt((e=>e.charAt(0).toUpperCase()+e.slice(1)))),zt=(xt((e=>e?`on${Nt(e)}`:"")),(e,t)=>e!==t&&(e==e||t==t)),Rt=new WeakMap,It=[],Mt=Symbol("iterate"),Lt=Symbol("Map key iterate"),kt=0;function jt(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var Dt=!0,Ut=[];function $t(){const e=Ut.pop();Dt=void 0===e||e}function Kt(e,t,n){if(!Dt||void 0===_t)return;let r=Rt.get(e);r||Rt.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(_t)||(i.add(_t),_t.deps.push(i),_t.options.onTrack&&_t.options.onTrack({effect:_t,target:e,type:t,key:n}))}function Yt(e,t,n,r,i,o){const s=Rt.get(e);if(!s)return;const a=new Set,l=e=>{e&&e.forEach((e=>{(e!==_t||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(l);else if("length"===n&&yt(e))s.forEach(((e,t)=>{("length"===t||t>=r)&&l(e)}));else switch(void 0!==n&&l(s.get(n)),t){case"add":yt(e)?Ot(n)&&l(s.get("length")):(l(s.get(Mt)),Et(e)&&l(s.get(Lt)));break;case"delete":yt(e)||(l(s.get(Mt)),Et(e)&&l(s.get(Lt)));break;case"set":Et(e)&&l(s.get(Mt))}a.forEach((s=>{s.options.onTrigger&&s.options.onTrigger({effect:s,target:e,key:n,type:t,newValue:r,oldValue:i,oldTarget:o}),s.options.scheduler?s.options.scheduler(s):s()}))}var Ft=pt("__proto__,__v_isRef,__isVue"),Vt=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(bt)),Wt=Jt(),Gt=Jt(!0),Bt=Ht();function Ht(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Nn(this);for(let e=0,t=this.length;e<t;e++)Kt(n,"get",e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Nn)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){Ut.push(Dt),Dt=!1;const n=Nn(this)[t].apply(this,e);return $t(),n}})),e}function Jt(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&i===(e?t?On:Sn:t?Pn:Tn).get(n))return n;const o=yt(n);if(!e&&o&&gt(Bt,r))return Reflect.get(Bt,r,i);const s=Reflect.get(n,r,i);return(bt(r)?Vt.has(r):Ft(r))?s:(e||Kt(n,"get",r),t?s:zn(s)?o&&Ot(r)?s:s.value:wt(s)?e?Cn(s):xn(s):s)}}function qt(e=!1){return function(t,n,r,i){let o=t[n];if(!e&&(r=Nn(r),o=Nn(o),!yt(t)&&zn(o)&&!zn(r)))return o.value=r,!0;const s=yt(t)&&Ot(n)?Number(n)<t.length:gt(t,n),a=Reflect.set(t,n,r,i);return t===Nn(i)&&(s?zt(r,o)&&Yt(t,"set",n,r,o):Yt(t,"add",n,r)),a}}var Xt={get:Wt,set:qt(),deleteProperty:function(e,t){const n=gt(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&Yt(e,"delete",t,void 0,r),i},has:function(e,t){const n=Reflect.has(e,t);return bt(t)&&Vt.has(t)||Kt(e,"has",t),n},ownKeys:function(e){return Kt(e,"iterate",yt(e)?"length":Mt),Reflect.ownKeys(e)}},Zt={get:Gt,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)},Qt=e=>wt(e)?xn(e):e,en=e=>wt(e)?Cn(e):e,tn=e=>e,nn=e=>Reflect.getPrototypeOf(e);function rn(e,t,n=!1,r=!1){const i=Nn(e=e.__v_raw),o=Nn(t);t!==o&&!n&&Kt(i,"get",t),!n&&Kt(i,"get",o);const{has:s}=nn(i),a=r?tn:n?en:Qt;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function on(e,t=!1){const n=this.__v_raw,r=Nn(n),i=Nn(e);return e!==i&&!t&&Kt(r,"has",e),!t&&Kt(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function sn(e,t=!1){return e=e.__v_raw,!t&&Kt(Nn(e),"iterate",Mt),Reflect.get(e,"size",e)}function an(e){e=Nn(e);const t=Nn(this);return nn(t).has.call(t,e)||(t.add(e),Yt(t,"add",e,e)),this}function ln(e,t){t=Nn(t);const n=Nn(this),{has:r,get:i}=nn(n);let o=r.call(n,e);o?wn(n,r,e):(e=Nn(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?zt(t,s)&&Yt(n,"set",e,t,s):Yt(n,"add",e,t),this}function cn(e){const t=Nn(this),{has:n,get:r}=nn(t);let i=n.call(t,e);i?wn(t,n,e):(e=Nn(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&Yt(t,"delete",e,void 0,o),s}function un(){const e=Nn(this),t=0!==e.size,n=Et(e)?new Map(e):new Set(e),r=e.clear();return t&&Yt(e,"clear",void 0,void 0,n),r}function dn(e,t){return function(n,r){const i=this,o=i.__v_raw,s=Nn(o),a=t?tn:e?en:Qt;return!e&&Kt(s,"iterate",Mt),o.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function fn(e,t,n){return function(...r){const i=this.__v_raw,o=Nn(i),s=Et(o),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=i[e](...r),u=n?tn:t?en:Qt;return!t&&Kt(o,"iterate",l?Lt:Mt),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function hn(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${Nt(e)} operation ${n}failed: target is readonly.`,Nn(this))}return"delete"!==e&&this}}function pn(){const e={get(e){return rn(this,e)},get size(){return sn(this)},has:on,add:an,set:ln,delete:cn,clear:un,forEach:dn(!1,!1)},t={get(e){return rn(this,e,!1,!0)},get size(){return sn(this)},has:on,add:an,set:ln,delete:cn,clear:un,forEach:dn(!1,!0)},n={get(e){return rn(this,e,!0)},get size(){return sn(this,!0)},has(e){return on.call(this,e,!0)},add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear"),forEach:dn(!0,!1)},r={get(e){return rn(this,e,!0,!0)},get size(){return sn(this,!0)},has(e){return on.call(this,e,!0)},add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear"),forEach:dn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=fn(i,!1,!1),n[i]=fn(i,!0,!1),t[i]=fn(i,!1,!0),r[i]=fn(i,!0,!0)})),[e,n,t,r]}var[_n,mn,vn,gn]=pn();function yn(e,t){const n=t?e?gn:vn:e?mn:_n;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(gt(n,r)&&r in t?n:t,r,i)}var En={get:yn(!1,!1)},bn={get:yn(!0,!1)};function wn(e,t,n){const r=Nn(n);if(r!==n&&t.call(e,r)){const t=St(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Tn=new WeakMap,Pn=new WeakMap,Sn=new WeakMap,On=new WeakMap;function xn(e){return e&&e.__v_isReadonly?e:An(e,!1,Xt,En,Tn)}function Cn(e){return An(e,!0,Zt,bn,Sn)}function An(e,t,n,r,i){if(!wt(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(St(a));var a;if(0===s)return e;const l=new Proxy(e,2===s?r:n);return i.set(e,l),l}function Nn(e){return e&&Nn(e.__v_raw)||e}function zn(e){return Boolean(e&&!0===e.__v_isRef)}Y("nextTick",(()=>ke)),Y("dispatch",(e=>ye.bind(ye,e))),Y("watch",((e,{evaluateLater:t,cleanup:n})=>(e,r)=>{let i=t(e),o=_((()=>{let e;return i((t=>e=t)),e}),r);n(o)})),Y("store",(function(){return lt})),Y("data",(e=>R(e))),Y("root",(e=>Ae(e))),Y("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=L(function(e){let t=[];return Ne(e,(e=>{e._x_refs&&t.push(e._x_refs)})),t}(e))),e._x_refs_proxy)));var Rn={};function In(e){return Rn[e]||(Rn[e]=0),++Rn[e]}function Mn(e,t,n){Y(t,(r=>be(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r)))}Y("id",((e,{cleanup:t})=>(n,r=null)=>function(e,t,n,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let i=r();return e._x_id[t]=i,n((()=>{delete e._x_id[t]})),i}(e,`${n}${r?`-${r}`:""}`,t,(()=>{let t=function(e,t){return Ne(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,n),i=t?t._x_ids[n]:In(n);return r?`${n}-${i}-${r}`:`${n}-${i}`})))),Je(((e,t)=>{e._x_id&&(t._x_id=e._x_id)})),Y("el",(e=>e)),Mn("Focus","focus","focus"),Mn("Persist","persist","persist"),re("modelable",((e,{expression:t},{effect:n,evaluateLater:r,cleanup:i})=>{let o=r(t),s=()=>{let e;return o((t=>e=t)),e},a=r(`${t} = __placeholder`),l=e=>a((()=>{}),{scope:{__placeholder:e}}),c=s();l(c),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,n=e._x_model.set,r=st({get:()=>t(),set(e){n(e)}},{get:()=>s(),set(e){l(e)}});i(r)}))})),re("teleport",((e,{modifiers:t,expression:n},{cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&be("x-teleport can only be used on a <template> tag",e);let i=kn(n),o=e.content.cloneNode(!0).firstElementChild;e._x_teleport=o,o._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{o.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),I(o,{},e);let s=(e,t,n)=>{n.includes("prepend")?t.parentNode.insertBefore(e,t):n.includes("append")?t.parentNode.insertBefore(e,t.nextSibling):t.appendChild(e)};C((()=>{s(o,i,t),Be((()=>{Re(o),o._x_ignore=!0}))()})),e._x_teleportPutBack=()=>{let r=kn(n);C((()=>{s(e._x_teleport,r,t)}))},r((()=>o.remove()))}));var Ln=document.createElement("div");function kn(e){let t=Be((()=>document.querySelector(e)),(()=>Ln))();return t||be(`Cannot find x-teleport element for selector: "${e}"`),t}var jn=()=>{};function Dn(e,t,n,r){let i=e,o=e=>r(e),s={},a=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=Un(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=it(o,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=Un(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=ot(o,t)}return n.includes("prevent")&&(o=a(o,((e,t)=>{t.preventDefault(),e(t)}))),n.includes("stop")&&(o=a(o,((e,t)=>{t.stopPropagation(),e(t)}))),n.includes("once")&&(o=a(o,((e,n)=>{e(n),i.removeEventListener(t,o,s)}))),(n.includes("away")||n.includes("outside"))&&(i=document,o=a(o,((t,n)=>{e.contains(n.target)||!1!==n.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n))}))),n.includes("self")&&(o=a(o,((t,n)=>{n.target===e&&t(n)}))),(function(e){return["keydown","keyup"].includes(e)}(t)||$n(t))&&(o=a(o,((e,t)=>{(function(e,t){let n=t.filter((e=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(e)));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,Un((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let e=n.indexOf("throttle");n.splice(e,Un((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&Kn(e.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter((e=>n.includes(e)));if(n=n.filter((e=>!r.includes(e))),r.length>0&&r.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===r.length){if($n(e.type))return!1;if(Kn(e.key).includes(n[0]))return!1}return!0})(t,n)||e(t)}))),i.addEventListener(t,o,s),()=>{i.removeEventListener(t,o,s)}}function Un(e){return!Array.isArray(e)&&!isNaN(e)}function $n(e){return["contextmenu","click","mouse"].some((t=>e.includes(t)))}function Kn(e){if(!e)return[];var t;e=[" ","_"].includes(t=e)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map((t=>{if(n[t]===e)return t})).filter((e=>e))}function Yn(e,t,n,r){return C((()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return null!==n.detail&&void 0!==n.detail?n.detail:n.target.value;if("checkbox"===e.type){if(Array.isArray(r)){let e=null;return e=t.includes("number")?Fn(n.target.value):t.includes("boolean")?tt(n.target.value):n.target.value,n.target.checked?r.includes(e)?r:r.concat([e]):r.filter((t=>!(t==e)))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map((e=>Fn(e.value||e.text))):t.includes("boolean")?Array.from(n.target.selectedOptions).map((e=>tt(e.value||e.text))):Array.from(n.target.selectedOptions).map((e=>e.value||e.text));{let i;return i="radio"===e.type?n.target.checked?n.target.value:r:n.target.value,t.includes("number")?Fn(i):t.includes("boolean")?tt(i):t.includes("trim")?i.trim():i}}))}function Fn(e){let t=e?parseFloat(e):null;return n=t,Array.isArray(n)||isNaN(n)?e:t;var n}function Vn(e){return null!==e&&"object"==typeof e&&"function"==typeof e.get&&"function"==typeof e.set}jn.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},re("ignore",jn),re("effect",Be(((e,{expression:t},{effect:n})=>{n(J(e,t))}))),re("model",((e,{modifiers:t,expression:n},{effect:r,cleanup:i})=>{let o=e;t.includes("parent")&&(o=e.parentNode);let s,a=J(o,n);s="string"==typeof n?J(o,`${n} = __placeholder`):"function"==typeof n&&"string"==typeof n()?J(o,`${n()} = __placeholder`):()=>{};let l=()=>{let e;return a((t=>e=t)),Vn(e)?e.get():e},c=e=>{let t;a((e=>t=e)),Vn(t)?t.set(e):s((()=>{}),{scope:{__placeholder:e}})};"string"==typeof n&&"radio"===e.type&&C((()=>{e.hasAttribute("name")||e.setAttribute("name",n)}));var u="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let d=Ge?()=>{}:Dn(e,u,t,(n=>{c(Yn(e,t,n,l()))}));if(t.includes("fill")&&([void 0,null,""].includes(l())||"checkbox"===e.type&&Array.isArray(l())||"select"===e.tagName.toLowerCase()&&e.multiple)&&c(Yn(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=d,i((()=>e._x_removeModelListeners.default())),e.form){let n=Dn(e.form,"reset",[],(n=>{ke((()=>e._x_model&&e._x_model.set(Yn(e,t,{target:e},l()))))}));i((()=>n()))}e._x_model={get:()=>l(),set(e){c(e)}},e._x_forceModelUpdate=t=>{void 0===t&&"string"==typeof n&&n.match(/\./)&&(t=""),window.fromModel=!0,C((()=>Ze(e,"value",t))),delete window.fromModel},r((()=>{let n=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(n)}))})),re("cloak",(e=>queueMicrotask((()=>C((()=>e.removeAttribute(te("cloak")))))))),Ce((()=>`[${te("init")}]`)),re("init",Be(((e,{expression:t},{evaluate:n})=>"string"==typeof t?!!t.trim()&&n(t,{},!1):n(t,{},!1)))),re("text",((e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n((()=>{i((t=>{C((()=>{e.textContent=t}))}))}))})),re("html",((e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n((()=>{i((t=>{C((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,Re(e),delete e._x_ignoreSelf}))}))}))})),he(ue(":",te("bind:")));var Wn=(e,{value:t,modifiers:n,expression:r,original:i},{effect:o,cleanup:s})=>{if(!t){let t={};return a=t,Object.entries(ut).forEach((([e,t])=>{Object.defineProperty(a,e,{get:()=>(...e)=>t(...e)})})),void J(e,r)((t=>{dt(e,t,i)}),{scope:t})}var a;if("key"===t)return function(e,t){e._x_keyExpression=t}(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let l=J(e,r);o((()=>l((i=>{void 0===i&&"string"==typeof r&&r.match(/\./)&&(i=""),C((()=>Ze(e,t,i,n)))})))),s((()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()}))};function Gn(e,t,n,r){let i={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,n)=>{i[e]=t[n]})):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{i[e]=t[e]})):i[e.item]=t,e.index&&(i[e.index]=n),e.collection&&(i[e.collection]=r),i}function Bn(){}function Hn(e,t,n){re(t,(r=>be(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r)))}Wn.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})},re("bind",Wn),xe((()=>`[${te("data")}]`)),re("data",((e,{expression:t},{cleanup:n})=>{if(function(e){return!!Ge&&(!!qe||e.hasAttribute("data-has-alpine-state"))}(e))return;t=""===t?"{}":t;let i={};F(i,e);let o={};var s,a;s=o,a=i,Object.entries(ft).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t.bind(a)(...e),enumerable:!1})}));let l=H(e,t,{scope:o});void 0!==l&&!0!==l||(l={}),F(l,e);let c=r(l);D(c);let u=I(e,c);c.init&&H(e,c.init),n((()=>{c.destroy&&H(e,c.destroy),u()}))})),Je(((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))})),re("show",((e,{modifiers:t,expression:n},{effect:r})=>{let i=J(e,n);e._x_doHide||(e._x_doHide=()=>{C((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))}),e._x_doShow||(e._x_doShow=()=>{C((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")}))});let o,s=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(a),c=Ke((e=>e?a():s()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,a,s):t?l():s()})),u=!0;r((()=>i((e=>{(u||e!==o)&&(t.includes("immediate")&&(e?l():s()),c(e),o=e,u=!1)}))))})),re("for",((e,{expression:t},{effect:n,cleanup:i})=>{let o=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!n)return;let r={};r.items=n[2].trim();let i=n[1].replace(/^\s*\(|\)\s*$/g,"").trim(),o=i.match(t);return o?(r.item=i.replace(t,"").trim(),r.index=o[1].trim(),o[2]&&(r.collection=o[2].trim())):r.item=i,r}(t),s=J(e,o.items),a=J(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n((()=>function(e,t,n,i){let o=e;n((n=>{var s;s=n,!Array.isArray(s)&&!isNaN(s)&&n>=0&&(n=Array.from(Array(n).keys(),(e=>e+1))),void 0===n&&(n=[]);let a=e._x_lookup,l=e._x_prevKeys,c=[],u=[];if("object"!=typeof(f=n)||Array.isArray(f))for(let r=0;r<n.length;r++){let o=Gn(t,n[r],r,n);i((t=>{u.includes(t)&&be("Duplicate key on x-for",e),u.push(t)}),{scope:{index:r,...o}}),c.push(o)}else n=Object.entries(n).map((([r,o])=>{let s=Gn(t,o,r,n);i((t=>{u.includes(t)&&be("Duplicate key on x-for",e),u.push(t)}),{scope:{index:r,...s}}),c.push(s)}));var f;let h=[],p=[],_=[],m=[];for(let e=0;e<l.length;e++){let t=l[e];-1===u.indexOf(t)&&_.push(t)}l=l.filter((e=>!_.includes(e)));let v="template";for(let e=0;e<u.length;e++){let t=u[e],n=l.indexOf(t);if(-1===n)l.splice(e,0,t),h.push([v,e]);else if(n!==e){let t=l.splice(e,1)[0],r=l.splice(n-1,1)[0];l.splice(e,0,r),l.splice(n,0,t),p.push([t,r])}else m.push(t);v=t}for(let e=0;e<_.length;e++){let t=_[e];a[t]._x_effects&&a[t]._x_effects.forEach(d),a[t].remove(),a[t]=null,delete a[t]}for(let e=0;e<p.length;e++){let[t,n]=p[e],r=a[t],i=a[n],s=document.createElement("div");C((()=>{i||be('x-for ":key" is undefined or invalid',o,n,a),i.after(s),r.after(i),i._x_currentIfEl&&i.after(i._x_currentIfEl),s.before(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),s.remove()})),i._x_refreshXForScope(c[u.indexOf(n)])}for(let e=0;e<h.length;e++){let[t,n]=h[e],i="template"===t?o:a[t];i._x_currentIfEl&&(i=i._x_currentIfEl);let s=c[n],l=u[n],d=document.importNode(o.content,!0).firstElementChild,f=r(s);I(d,f,o),d._x_refreshXForScope=e=>{Object.entries(e).forEach((([e,t])=>{f[e]=t}))},C((()=>{i.after(d),Be((()=>Re(d)))()})),"object"==typeof l&&be("x-for key cannot be an object, it must be a string or an integer",o),a[l]=d}for(let e=0;e<m.length;e++)a[m[e]]._x_refreshXForScope(c[u.indexOf(m[e])]);o._x_prevKeys=u}))}(e,o,s,a))),i((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),Bn.inline=(e,{expression:t},{cleanup:n})=>{let r=Ae(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n((()=>delete r._x_refs[t]))},re("ref",Bn),re("if",((e,{expression:t},{effect:n,cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&be("x-if can only be used on a <template> tag",e);let i=J(e,t);n((()=>i((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;I(t,{},e),C((()=>{e.after(t),Be((()=>Re(t)))()})),e._x_currentIfEl=t,e._x_undoIf=()=>{Ee(t,(e=>{e._x_effects&&e._x_effects.forEach(d)})),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),r((()=>e._x_undoIf&&e._x_undoIf()))})),re("id",((e,{expression:t},{evaluate:n})=>{n(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=In(t))}(e,t)))})),Je(((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)})),he(ue("@",te("on:"))),re("on",Be(((e,{value:t,modifiers:n,expression:r},{cleanup:i})=>{let o=r?J(e,r):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=Dn(e,t,n,(e=>{o((()=>{}),{scope:{$event:e},params:[e]})}));i((()=>s()))}))),Hn("Collapse","collapse","collapse"),Hn("Intersect","intersect","intersect"),Hn("Focus","trap","focus"),Hn("Mask","mask","mask"),ht.setEvaluator(X),ht.setReactivityEngine({reactive:xn,effect:function(e,t=mt){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return e();if(!It.includes(n)){jt(n);try{return Ut.push(Dt),Dt=!0,It.push(n),_t=n,e()}finally{It.pop(),$t(),_t=It[It.length-1]}}};return n.id=kt++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n},release:function(e){e.active&&(jt(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:Nn});var Jn=ht},8673:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,f,h,p,_,m=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},v=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},g=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MINIMUM_SUPPORTED_AP_VERSION=t.Client=void 0;const E=n(7007),b=y(n(169)),w=n(2831),T=n(4248),P=n(8907),S=n(7092),O=n(742),x=n(1364),C=n(8082),A=n(8362),N=n(8664),z=n(9142);t.Client=class{constructor(){r.add(this),i.set(this,void 0),o.set(this,P.CONNECTION_STATUS.DISCONNECTED),s.set(this,new E.EventEmitter),a.set(this,new O.DataManager(this)),l.set(this,new x.HintsManager(this)),c.set(this,new C.ItemsManager(this)),u.set(this,new A.LocationsManager(this)),d.set(this,new N.PlayersManager(this))}get status(){return v(this,o,"f")}get data(){return v(this,a,"f")}get hints(){return v(this,l,"f")}get items(){return v(this,c,"f")}get locations(){return v(this,u,"f")}get players(){return v(this,d,"f")}get uri(){if(v(this,i,"f"))return v(this,i,"f").url}connect(e){return m(this,void 0,void 0,(function*(){if(e.port<1||e.port>65535||!Number.isInteger(e.port))throw new Error(`Port must be an integer between 1 and 65535. Received: ${e.port}`);try{if(g(this,o,P.CONNECTION_STATUS.CONNECTING,"f"),"ws"===e.protocol)yield v(this,r,"m",h).call(this,`ws://${e.hostname}:${e.port}/`);else if("wss"===e.protocol)yield v(this,r,"m",h).call(this,`wss://${e.hostname}:${e.port}/`);else try{yield v(this,r,"m",h).call(this,`wss://${e.hostname}:${e.port}/`)}catch(t){yield v(this,r,"m",h).call(this,`ws://${e.hostname}:${e.port}/`)}return yield new Promise(((t,n)=>{const i=()=>{v(this,r,"m",f).call(this,e).then((e=>{v(this,s,"f").removeListener("__onRoomInfoLoaded",i.bind(this)),t(e)})).catch((e=>n(e)))};v(this,s,"f").addListener("__onRoomInfoLoaded",i.bind(this))}))}catch(e){throw this.disconnect(),e}}))}emitRawEvent(e,...t){v(this,s,"f").emit(e,...t)}send(...e){var t;null===(t=v(this,i,"f"))||void 0===t||t.send(JSON.stringify(e))}say(e){this.send({cmd:T.CLIENT_PACKET_TYPE.SAY,text:e})}updateStatus(e){this.send({cmd:T.CLIENT_PACKET_TYPE.STATUS_UPDATE,status:e})}disconnect(){var e;null===(e=v(this,i,"f"))||void 0===e||e.close(),g(this,i,void 0,"f"),g(this,o,P.CONNECTION_STATUS.DISCONNECTED,"f"),v(this,s,"f").removeAllListeners(),g(this,a,new O.DataManager(this),"f"),g(this,l,new x.HintsManager(this),"f"),g(this,c,new C.ItemsManager(this),"f"),g(this,u,new A.LocationsManager(this),"f"),g(this,d,new N.PlayersManager(this),"f")}addListener(e,t){v(this,s,"f").addListener(e,t)}removeListener(e,t){v(this,s,"f").removeListener(e,t)}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,r=new WeakSet,f=function(e){var n;const r=null!==(n=e.version)&&void 0!==n?n:t.MINIMUM_SUPPORTED_AP_VERSION;return new Promise(((t,n)=>{var i,s,l;const c=e=>{g(this,o,P.CONNECTION_STATUS.CONNECTED,"f"),this.removeListener(T.SERVER_PACKET_TYPE.CONNECTED,c.bind(this)),t(e)};this.addListener(T.SERVER_PACKET_TYPE.CONNECTED,c.bind(this)),this.addListener(T.SERVER_PACKET_TYPE.CONNECTION_REFUSED,(e=>{this.disconnect(),n(e.errors)}).bind(this)),this.send({cmd:T.CLIENT_PACKET_TYPE.GET_DATA_PACKAGE,games:v(this,a,"f").games},{cmd:T.CLIENT_PACKET_TYPE.CONNECT,game:e.game,name:e.name,version:Object.assign(Object.assign({},r),{class:"Version"}),items_handling:e.items_handling,uuid:null!==(i=e.uuid)&&void 0!==i?i:(0,w.v4)(),tags:null!==(s=e.tags)&&void 0!==s?s:[],password:null!==(l=e.password)&&void 0!==l?l:""})}))},h=function(e){return new Promise(((t,n)=>{g(this,i,new b.default(e),"f"),v(this,i,"f").onopen=()=>{g(this,o,P.CONNECTION_STATUS.WAITING_FOR_AUTH,"f"),v(this,i,"f")?(v(this,i,"f").onmessage=v(this,r,"m",p).bind(this),t()):n(["Socket was closed unexpectedly."])},v(this,i,"f").onerror=e=>{g(this,o,P.CONNECTION_STATUS.DISCONNECTED,"f"),n([e])}}))},p=function(e){const t=JSON.parse(e.data.toString());for(const e of t)switch(v(this,s,"f").emit("PacketReceived",e),e.cmd){case T.SERVER_PACKET_TYPE.INVALID_PACKET:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.INVALID_PACKET,e);break;case T.SERVER_PACKET_TYPE.BOUNCED:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.BOUNCED,e);break;case T.SERVER_PACKET_TYPE.CONNECTION_REFUSED:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.CONNECTION_REFUSED,e);break;case T.SERVER_PACKET_TYPE.CONNECTED:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.CONNECTED,e);break;case T.SERVER_PACKET_TYPE.DATA_PACKAGE:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.DATA_PACKAGE,e);break;case T.SERVER_PACKET_TYPE.LOCATION_INFO:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.LOCATION_INFO,e);break;case T.SERVER_PACKET_TYPE.RECEIVED_ITEMS:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.RECEIVED_ITEMS,e);break;case T.SERVER_PACKET_TYPE.RETRIEVED:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.RETRIEVED,e);break;case T.SERVER_PACKET_TYPE.ROOM_INFO:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.ROOM_INFO,e);break;case T.SERVER_PACKET_TYPE.ROOM_UPDATE:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.ROOM_UPDATE,e);break;case T.SERVER_PACKET_TYPE.SET_REPLY:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.SET_REPLY,e);break;case T.SERVER_PACKET_TYPE.PRINT_JSON:v(this,s,"f").emit(T.SERVER_PACKET_TYPE.PRINT_JSON,e,v(this,r,"m",_).call(this,e))}},_=function(e){return e.type===S.PRINT_JSON_TYPE.CHAT||e.type===S.PRINT_JSON_TYPE.SERVER_CHAT?e.message:e.data.reduce(((e,t)=>{var n,r;switch(t.type){case z.VALID_JSON_MESSAGE_TYPE.PLAYER_ID:return e+this.players.alias(parseInt(t.text));case z.VALID_JSON_MESSAGE_TYPE.LOCATION_ID:return e+(null===(n=this.players.get(t.player))||void 0===n?void 0:n.location(parseInt(t.text)));case z.VALID_JSON_MESSAGE_TYPE.ITEM_ID:return e+(null===(r=this.players.get(t.player))||void 0===r?void 0:r.item(parseInt(t.text)));default:return e+t.text}}),"")},t.MINIMUM_SUPPORTED_AP_VERSION={major:0,minor:4,build:2}},9904:function(e,t,n){"use strict";var r,i,o,s,a=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},l=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.SetOperationsBuilder=void 0;const c=n(4248);t.SetOperationsBuilder=class{constructor(e,t,n=!1){r.set(this,[]),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a(this,i,e,"f"),a(this,o,t,"f"),a(this,s,n,"f")}replace(e){return l(this,r,"f").push({operation:"replace",value:e}),this}default(e){return l(this,r,"f").push({operation:"default",value:e}),this}add(e){return l(this,r,"f").push({operation:"add",value:e}),this}multiply(e){return l(this,r,"f").push({operation:"mul",value:e}),this}power(e){return l(this,r,"f").push({operation:"pow",value:e}),this}modulo(e){return l(this,r,"f").push({operation:"mod",value:e}),this}max(e){return l(this,r,"f").push({operation:"max",value:e}),this}min(e){return l(this,r,"f").push({operation:"min",value:e}),this}and(e){return l(this,r,"f").push({operation:"and",value:e}),this}or(e){return l(this,r,"f").push({operation:"or",value:e}),this}xor(e){return l(this,r,"f").push({operation:"xor",value:e}),this}shiftLeft(e){return l(this,r,"f").push({operation:"left_shift",value:e}),this}shiftRight(e){return l(this,r,"f").push({operation:"right_shift",value:e}),this}remove(e){return l(this,r,"f").push({operation:"remove",value:e}),this}pop(e){return l(this,r,"f").push({operation:"pop",value:e}),this}update(e){return l(this,r,"f").push({operation:"update",value:e}),this}build(){return{cmd:c.CLIENT_PACKET_TYPE.SET,key:l(this,i,"f"),default:l(this,o,"f"),want_reply:l(this,s,"f"),operations:l(this,r,"f")}}},r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap},60:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLIENT_STATUS=void 0,t.CLIENT_STATUS={UNKNOWN:0,CONNECTED:5,READY:10,PLAYING:20,GOAL:30}},4248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLIENT_PACKET_TYPE=t.SERVER_PACKET_TYPE=void 0,t.SERVER_PACKET_TYPE={BOUNCED:"Bounced",CONNECTED:"Connected",CONNECTION_REFUSED:"ConnectionRefused",DATA_PACKAGE:"DataPackage",INVALID_PACKET:"InvalidPacket",LOCATION_INFO:"LocationInfo",PRINT_JSON:"PrintJSON",RECEIVED_ITEMS:"ReceivedItems",RETRIEVED:"Retrieved",ROOM_INFO:"RoomInfo",ROOM_UPDATE:"RoomUpdate",SET_REPLY:"SetReply"},t.CLIENT_PACKET_TYPE={BOUNCE:"Bounce",CONNECT:"Connect",CONNECT_UPDATE:"ConnectUpdate",GET_DATA_PACKAGE:"GetDataPackage",GET:"Get",LOCATION_CHECKS:"LocationChecks",LOCATION_SCOUTS:"LocationScouts",SAY:"Say",SET_NOTIFY:"SetNotify",SET:"Set",STATUS_UPDATE:"StatusUpdate",SYNC:"Sync"}},4445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMON_TAGS=void 0,t.COMMON_TAGS={REFERENCE_CLIENT:"AP",DEATH_LINK:"DeathLink",TRACKER:"Tracker",TEXT_ONLY:"TextOnly"}},915:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECTION_ERROR=void 0,t.CONNECTION_ERROR={INVALID_SLOT:"InvalidSlot",INVALID_GAME:"InvalidGame",INCOMPATIBLE_VERSION:"IncompatibleVersion",INVALID_PASSWORD:"InvalidPassword",INVALID_ITEMS_HANDLING:"InvalidItemsHandling"}},8907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECTION_STATUS=void 0,t.CONNECTION_STATUS={DISCONNECTED:"Disconnected",CONNECTING:"Connecting",WAITING_FOR_AUTH:"Waiting For Authentication",CONNECTED:"Connected"}},9195:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CREATE_AS_HINT_MODE=void 0,t.CREATE_AS_HINT_MODE={NO_HINT:0,HINT_EVERYTHING:1,HINT_ONLY_NEW:2}},1235:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITEM_FLAGS=void 0,t.ITEM_FLAGS={FILLER:0,PROGRESSION:1,NEVER_EXCLUDE:2,TRAP:4}},2833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITEMS_HANDLING_FLAGS=void 0,t.ITEMS_HANDLING_FLAGS={LOCAL_ONLY:0,REMOTE_DIFFERENT_WORLDS:1,REMOTE_OWN_WORLD:2,REMOTE_STARTING_INVENTORY:4,REMOTE_ALL:7}},8462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PACKET_PROBLEM_TYPE=void 0,t.PACKET_PROBLEM_TYPE={CMD:"cmd",ARGUMENTS:"arguments"}},2154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REDUCED_PERMISSION=t.PERMISSION=void 0,t.PERMISSION={DISABLED:0,ENABLED:1,GOAL:2,AUTO:6,AUTO_ENABLED:7},t.REDUCED_PERMISSION={DISABLED:0,ENABLED:1,GOAL:2}},7092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRINT_JSON_TYPE=void 0,t.PRINT_JSON_TYPE={ITEM_SEND:"ItemSend",ITEM_CHEAT:"ItemCheat",HINT:"Hint",JOIN:"Join",PART:"Part",CHAT:"Chat",SERVER_CHAT:"ServerChat",TUTORIAL:"Tutorial",TAGS_CHANGED:"TagsChanged",COMMAND_RESULT:"CommandResult",ADMIN_COMMAND_RESULT:"AdminCommandResult",GOAL:"Goal",RELEASE:"Release",COLLECT:"Collect",COUNTDOWN:"Countdown"}},5237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SLOT_TYPE=void 0,t.SLOT_TYPE={SPECTATOR:0,PLAYER:1,GROUP:2}},4744:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8673),t),i(n(9904),t),i(n(60),t),i(n(4248),t),i(n(4445),t),i(n(915),t),i(n(8907),t),i(n(9195),t),i(n(1235),t),i(n(2833),t),i(n(8462),t),i(n(2154),t),i(n(7092),t),i(n(5237),t),i(n(742),t),i(n(1364),t),i(n(8082),t),i(n(8362),t),i(n(8664),t),i(n(7124),t),i(n(3836),t),i(n(5930),t),i(n(4016),t),i(n(9953),t),i(n(2577),t),i(n(4902),t),i(n(3846),t),i(n(7564),t),i(n(1402),t),i(n(7317),t),i(n(8330),t),i(n(3367),t),i(n(408),t),i(n(6363),t),i(n(9588),t),i(n(4042),t),i(n(663),t),i(n(5274),t),i(n(6593),t),i(n(5439),t),i(n(4718),t),i(n(8364),t),i(n(6371),t),i(n(1779),t),i(n(9142),t)},742:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u,d,f,h,p,_,m,v,g,y,E,b=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},w=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},T=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.DataManager=void 0;const P=n(4248),S=n(2154),O=n(5237);t.DataManager=class{constructor(e){r.add(this),i.set(this,void 0),o.set(this,new Map),s.set(this,[]),a.set(this,[]),l.set(this,0),c.set(this,0),u.set(this,{}),d.set(this,-1),f.set(this,-1),h.set(this,""),p.set(this,[]),_.set(this,{release:S.PERMISSION.DISABLED,collect:S.PERMISSION.DISABLED,remaining:S.PERMISSION.DISABLED}),w(this,i,e,"f"),T(this,i,"f").addListener(P.SERVER_PACKET_TYPE.DATA_PACKAGE,T(this,r,"m",v).bind(this)),T(this,i,"f").addListener(P.SERVER_PACKET_TYPE.CONNECTED,T(this,r,"m",g).bind(this)),T(this,i,"f").addListener(P.SERVER_PACKET_TYPE.ROOM_INFO,T(this,r,"m",y).bind(this)),T(this,i,"f").addListener(P.SERVER_PACKET_TYPE.ROOM_UPDATE,T(this,r,"m",E).bind(this)),T(this,i,"f").addListener(P.SERVER_PACKET_TYPE.SET_REPLY,T(this,r,"m",m).bind(this))}get package(){return T(this,o,"f")}get players(){return T(this,s,"f")}get games(){return T(this,a,"f")}get hintCost(){return T(this,l,"f")}get hintPoints(){return T(this,c,"f")}get slotData(){return T(this,u,"f")}get slot(){return T(this,d,"f")}get team(){return T(this,f,"f")}get seed(){return T(this,h,"f")}get permissions(){return T(this,_,"f")}set(e){return b(this,void 0,void 0,(function*(){const t=e.build();if(t.want_reply)return new Promise((e=>{T(this,p,"f").push({key:t.key,resolve:e}),T(this,i,"f").send(t)}));T(this,i,"f").send(t)}))}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,_=new WeakMap,r=new WeakSet,m=function(e){const t=T(this,p,"f").findIndex((t=>t.key===e.key));if(-1!==t){const{resolve:n}=T(this,p,"f")[t];T(this,p,"f").splice(t,1),n(e)}},v=function(e){for(const t in e.data.games){const n=e.data.games[t];T(this,o,"f").set(t,n);let r=!1,i=!1;n.item_name_groups||(n.item_name_groups={Everything:[]},r=!0),n.location_name_groups||(n.location_name_groups={Everywhere:[]},i=!0),n.location_id_to_name={},n.item_id_to_name={};for(const[e,t]of Object.entries(n.location_name_to_id))n.location_id_to_name[t]=e,i&&n.location_name_groups.Everywhere.push(e);for(const[e,t]of Object.entries(n.item_name_to_id))n.item_id_to_name[t]=e,r&&n.item_name_groups.Everything.push(e)}},g=function(e){var t;const n=[{name:"Archipelago",slot:0,game:"Archipelago",team:0,type:O.SLOT_TYPE.SPECTATOR,alias:"Archipelago",group_members:[],item:e=>T(this,i,"f").items.name(0,e),location:e=>T(this,i,"f").locations.name(0,e)}];for(const t of e.players){const r=Object.assign(Object.assign(Object.assign({},t),e.slot_info[t.slot]),{item:e=>T(this,i,"f").items.name(t.slot,e),location:e=>T(this,i,"f").locations.name(t.slot,e)});n[r.slot]=r}w(this,s,n,"f"),w(this,d,e.slot,"f"),w(this,f,e.team,"f"),w(this,c,null!==(t=e.hint_points)&&void 0!==t?t:0,"f"),w(this,u,e.slot_data,"f")},y=function(e){w(this,h,e.seed_name,"f"),w(this,l,e.hint_cost,"f"),w(this,_,e.permissions,"f"),w(this,a,e.games,"f"),T(this,i,"f").emitRawEvent("__onRoomInfoLoaded")},E=function(e){if(e.hint_points&&w(this,c,e.hint_points,"f"),e.hint_cost&&w(this,l,e.hint_cost,"f"),e.permissions&&w(this,_,e.permissions,"f"),e.players)for(const t of e.players)T(this,s,"f")[t.slot]=Object.assign(Object.assign({},T(this,s,"f")[t.slot]),t)}},1364:function(e,t,n){"use strict";var r,i,o,s,a,l,c=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.HintsManager=void 0;const d=n(4248);t.HintsManager=class{constructor(e){r.add(this),i.set(this,void 0),o.set(this,[]),c(this,i,e,"f"),u(this,i,"f").addListener(d.SERVER_PACKET_TYPE.SET_REPLY,u(this,r,"m",s).bind(this)),u(this,i,"f").addListener(d.SERVER_PACKET_TYPE.RETRIEVED,u(this,r,"m",a).bind(this)),u(this,i,"f").addListener(d.SERVER_PACKET_TYPE.CONNECTED,u(this,r,"m",l).bind(this))}get mine(){return u(this,o,"f")}},i=new WeakMap,o=new WeakMap,r=new WeakSet,s=function(e){e.key===`_read_hints_${u(this,i,"f").data.team}_${u(this,i,"f").data.slot}`&&c(this,o,e.value,"f")},a=function(e){for(const t in e.keys)t===`_read_hints_${u(this,i,"f").data.team}_${u(this,i,"f").data.slot}`&&c(this,o,e.keys[t],"f")},l=function(){u(this,i,"f").send({cmd:d.CLIENT_PACKET_TYPE.SET_NOTIFY,keys:[`_read_hints_${u(this,i,"f").data.team}_${u(this,i,"f").data.slot}`]},{cmd:d.CLIENT_PACKET_TYPE.GET,keys:[`_read_hints_${u(this,i,"f").data.team}_${u(this,i,"f").data.slot}`]})}},8082:function(e,t,n){"use strict";var r,i,o,s,a,l=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ItemsManager=void 0;const u=n(4248);t.ItemsManager=class{constructor(e){r.add(this),i.set(this,void 0),o.set(this,[]),s.set(this,0),l(this,i,e,"f"),c(this,i,"f").addListener(u.SERVER_PACKET_TYPE.RECEIVED_ITEMS,c(this,r,"m",a).bind(this))}name(e,t){if(isNaN(t)||!Number.isSafeInteger(t))throw new Error(`'id' must be a safe integer. Received: ${t}`);let n;if("string"==typeof e)n=e;else{if(isNaN(e)||!Number.isSafeInteger(e))throw new Error(`'player' must be a safe integer. Received: ${t}`);const r=c(this,i,"f").players.get(e);if(!r)return`Unknown Item: ${t}`;n=r.game}const r=c(this,i,"f").data.package.get(n);if(!r)return`Unknown Item: ${t}`;return r.item_id_to_name[t]||`Unknown Item: ${t}`}group(e,t){const n=c(this,i,"f").data.package.get(e);if(!n)throw new Error(`Unknown Game: ${e}`);return n.item_name_groups[t]||[]}get index(){return c(this,s,"f")}get received(){return c(this,o,"f")}},i=new WeakMap,o=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(e){if(e.index>c(this,s,"f"))return l(this,s,0,"f"),void c(this,i,"f").send({cmd:u.CLIENT_PACKET_TYPE.SYNC});let t=e.index;for(const n of e.items)c(this,o,"f")[t++]=n}},8362:function(e,t,n){"use strict";var r,i,o,s,a,l,c=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.LocationsManager=void 0;const d=n(4248),f=n(9195);t.LocationsManager=class{constructor(e){r.add(this),i.set(this,void 0),o.set(this,[]),s.set(this,[]),c(this,i,e,"f"),u(this,i,"f").addListener(d.SERVER_PACKET_TYPE.CONNECTED,u(this,r,"m",a).bind(this)),u(this,i,"f").addListener(d.SERVER_PACKET_TYPE.ROOM_UPDATE,u(this,r,"m",l).bind(this))}get checked(){return u(this,o,"f")}get missing(){return u(this,s,"f")}check(...e){u(this,i,"f").send({cmd:d.CLIENT_PACKET_TYPE.LOCATION_CHECKS,locations:e})}scout(e=f.CREATE_AS_HINT_MODE.NO_HINT,...t){u(this,i,"f").send({cmd:d.CLIENT_PACKET_TYPE.LOCATION_SCOUTS,locations:t,create_as_hint:e})}name(e,t){if(isNaN(t)||!Number.isSafeInteger(t))throw new Error(`'id' must be a safe integer. Received: ${t}`);let n;if("string"==typeof e)n=e;else{if(isNaN(e)||!Number.isSafeInteger(e))throw new Error(`'player' must be a safe integer. Received: ${t}`);const r=u(this,i,"f").players.get(e);if(!r)return`Unknown Location: ${t}`;n=r.game}const r=u(this,i,"f").data.package.get(n);if(!r)return`Unknown Location: ${t}`;return r.location_id_to_name[t]||`Unknown Location: ${t}`}group(e,t){const n=u(this,i,"f").data.package.get(e);if(!n)throw new Error(`Unknown Game: ${e}`);return n.location_name_groups[t]||[]}autoRelease(){u(this,i,"f").send({cmd:d.CLIENT_PACKET_TYPE.LOCATION_CHECKS,locations:u(this,s,"f")})}},i=new WeakMap,o=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(e){c(this,o,e.checked_locations,"f"),c(this,s,e.missing_locations,"f")},l=function(e){if(e.checked_locations)for(const t of e.checked_locations)if(!u(this,o,"f").includes(t)){u(this,o,"f").push(t);const e=u(this,s,"f").indexOf(t);-1!==e&&u(this,s,"f").splice(e,1)}}},8664:function(e,t){"use strict";var n,r=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayersManager=void 0,t.PlayersManager=class{constructor(e){n.set(this,void 0),r(this,n,e,"f")}get all(){return i(this,n,"f").data.players}get(e){return i(this,n,"f").data.players[e]}name(e){var t;if(0===e)return"Archipelago";const n=null===(t=this.get(e))||void 0===t?void 0:t.name;if(!n)throw new Error(`Unable to find player by id: ${e}`);return n}alias(e){var t;if(0===e)return"Archipelago";const n=null===(t=this.get(e))||void 0===t?void 0:t.alias;if(!n)throw new Error(`Unable to find player by id: ${e}`);return n}game(e){var t;if(0===e)return"Archipelago";const n=null===(t=this.get(e))||void 0===t?void 0:t.game;if(!n)throw new Error(`Unable to find player by id: ${e}`);return n}members(e){var t;return(null===(t=this.get(e))||void 0===t?void 0:t.group_members)||[]}},n=new WeakMap},7124:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5930:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4016:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2577:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7564:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1402:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8330:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3367:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},408:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9588:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4042:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4718:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1779:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5897:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALID_JSON_COLOR_TYPE=t.VALID_JSON_MESSAGE_TYPE=void 0,t.VALID_JSON_MESSAGE_TYPE={TEXT:"text",PLAYER_ID:"player_id",PLAYER_NAME:"player_name",ITEM_ID:"item_id",ITEM_NAME:"item_name",LOCATION_ID:"location_id",LOCATION_NAME:"location_name",ENTRANCE_NAME:"entrance_name",COLOR:"color"},t.VALID_JSON_COLOR_TYPE={BOLD:"bold",UNDERLINE:"underline",BLACK:"black",RED:"red",GREEN:"green",YELLOW:"yellow",BLUE:"blue",MAGENTA:"magenta",CYAN:"cyan",WHITE:"white",BLACK_BACKGROUND:"black_bg",RED_BACKGROUND:"red_bg",GREEN_BACKGROUND:"green_bg",YELLOW_BACKGROUND:"yellow_bg",BLUE_BACKGROUND:"blue_bg",PURPLE_BACKGROUND:"purple_bg",CYAN_BACKGROUND:"cyan_bg",WHITE_BACKGROUND:"white_bg"}},8797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4705:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9142:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(392),t),i(n(6870),t),i(n(2661),t),i(n(5788),t),i(n(3776),t),i(n(5897),t),i(n(6994),t),i(n(8797),t),i(n(7207),t),i(n(4705),t),i(n(1192),t),i(n(6698),t),i(n(6253),t),i(n(8025),t),i(n(4888),t)},7007:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}_(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&_(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,s,c;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function _(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},169:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=null;"undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof MozWebSocket?r=MozWebSocket:void 0!==n.g?r=n.g.WebSocket||n.g.MozWebSocket:"undefined"!=typeof window?r=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket);const i=r},2831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var r=f(n(3518)),i=f(n(4948)),o=f(n(5073)),s=f(n(7186)),a=f(n(4808)),l=f(n(7775)),c=f(n(7037)),u=f(n(9910)),d=f(n(6792));function f(e){return e&&e.__esModule?e:{default:e}}},2311:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,s){return r((a=r(r(t,e),r(i,s)))<<(l=o)|a>>>32-l,n);var a,l}function o(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)}function s(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)}function a(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)}function l(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let i=0;i<n;i+=8){const n=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let i=1732584193,c=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=i,f=c,h=u,p=d;i=o(i,c,u,d,e[t],7,-680876936),d=o(d,i,c,u,e[t+1],12,-389564586),u=o(u,d,i,c,e[t+2],17,606105819),c=o(c,u,d,i,e[t+3],22,-1044525330),i=o(i,c,u,d,e[t+4],7,-176418897),d=o(d,i,c,u,e[t+5],12,1200080426),u=o(u,d,i,c,e[t+6],17,-1473231341),c=o(c,u,d,i,e[t+7],22,-45705983),i=o(i,c,u,d,e[t+8],7,1770035416),d=o(d,i,c,u,e[t+9],12,-1958414417),u=o(u,d,i,c,e[t+10],17,-42063),c=o(c,u,d,i,e[t+11],22,-1990404162),i=o(i,c,u,d,e[t+12],7,1804603682),d=o(d,i,c,u,e[t+13],12,-40341101),u=o(u,d,i,c,e[t+14],17,-1502002290),c=o(c,u,d,i,e[t+15],22,1236535329),i=s(i,c,u,d,e[t+1],5,-165796510),d=s(d,i,c,u,e[t+6],9,-1069501632),u=s(u,d,i,c,e[t+11],14,643717713),c=s(c,u,d,i,e[t],20,-373897302),i=s(i,c,u,d,e[t+5],5,-701558691),d=s(d,i,c,u,e[t+10],9,38016083),u=s(u,d,i,c,e[t+15],14,-660478335),c=s(c,u,d,i,e[t+4],20,-405537848),i=s(i,c,u,d,e[t+9],5,568446438),d=s(d,i,c,u,e[t+14],9,-1019803690),u=s(u,d,i,c,e[t+3],14,-187363961),c=s(c,u,d,i,e[t+8],20,1163531501),i=s(i,c,u,d,e[t+13],5,-1444681467),d=s(d,i,c,u,e[t+2],9,-51403784),u=s(u,d,i,c,e[t+7],14,1735328473),c=s(c,u,d,i,e[t+12],20,-1926607734),i=a(i,c,u,d,e[t+5],4,-378558),d=a(d,i,c,u,e[t+8],11,-2022574463),u=a(u,d,i,c,e[t+11],16,1839030562),c=a(c,u,d,i,e[t+14],23,-35309556),i=a(i,c,u,d,e[t+1],4,-1530992060),d=a(d,i,c,u,e[t+4],11,1272893353),u=a(u,d,i,c,e[t+7],16,-155497632),c=a(c,u,d,i,e[t+10],23,-1094730640),i=a(i,c,u,d,e[t+13],4,681279174),d=a(d,i,c,u,e[t],11,-358537222),u=a(u,d,i,c,e[t+3],16,-722521979),c=a(c,u,d,i,e[t+6],23,76029189),i=a(i,c,u,d,e[t+9],4,-640364487),d=a(d,i,c,u,e[t+12],11,-421815835),u=a(u,d,i,c,e[t+15],16,530742520),c=a(c,u,d,i,e[t+2],23,-995338651),i=l(i,c,u,d,e[t],6,-198630844),d=l(d,i,c,u,e[t+7],10,1126891415),u=l(u,d,i,c,e[t+14],15,-1416354905),c=l(c,u,d,i,e[t+5],21,-57434055),i=l(i,c,u,d,e[t+12],6,1700485571),d=l(d,i,c,u,e[t+3],10,-1894986606),u=l(u,d,i,c,e[t+10],15,-1051523),c=l(c,u,d,i,e[t+1],21,-2054922799),i=l(i,c,u,d,e[t+8],6,1873313359),d=l(d,i,c,u,e[t+15],10,-30611744),u=l(u,d,i,c,e[t+6],15,-1560198380),c=l(c,u,d,i,e[t+13],21,1309151649),i=l(i,c,u,d,e[t+4],6,-145523070),d=l(d,i,c,u,e[t+11],10,-1120210379),u=l(u,d,i,c,e[t+2],15,718787259),c=l(c,u,d,i,e[t+9],21,-343485551),i=r(i,n),c=r(c,f),u=r(u,h),d=r(d,p)}return[i,c,u,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}},6140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},4808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},6792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(7037))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},7656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},2858:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};const r=new Uint8Array(16)},9042:(e,t)=>{"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(let t=0;t<s;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];a[t]=n}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<s;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=a[e][t];for(let e=16;e<80;++e)o[e]=r(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let s=i[0],l=i[1],c=i[2],u=i[3],d=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),a=r(s,5)+n(i,l,c,u)+d+t[i]+o[e]>>>0;d=u,u=c,c=r(l,30)>>>0,l=s,s=a}i[0]=i[0]+s>>>0,i[1]=i[1]+l>>>0,i[2]=i[2]+c>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},9910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var r,i=(r=n(7037))&&r.__esModule?r:{default:r};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function s(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}t.default=function(e,t=0){const n=s(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n}},3518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2858))&&r.__esModule?r:{default:r},o=n(9910);let s,a,l=0,c=0;t.default=function(e,t,n){let r=t&&n||0;const u=t||new Array(16);let d=(e=e||{}).node||s,f=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==f){const t=e.random||(e.rng||i.default)();null==d&&(d=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=a=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:c+1;const _=h-l+(p-c)/1e4;if(_<0&&void 0===e.clockseq&&(f=f+1&16383),(_<0||h>l)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,c=p,a=f,h+=122192928e5;const m=(1e4*(268435455&h)+p)%4294967296;u[r++]=m>>>24&255,u[r++]=m>>>16&255,u[r++]=m>>>8&255,u[r++]=255&m;const v=h/4294967296*1e4&268435455;u[r++]=v>>>8&255,u[r++]=255&v,u[r++]=v>>>24&15|16,u[r++]=v>>>16&255,u[r++]=f>>>8|128,u[r++]=255&f;for(let e=0;e<6;++e)u[r+e]=d[e];return t||(0,o.unsafeStringify)(u)}},4948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(9025)),i=o(n(2311));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("v3",48,i.default);t.default=s},9025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,s,a){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,o.default)(r)),16!==(null===(l=r)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(r),c.set(e,r.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,s){a=a||0;for(let e=0;e<16;++e)s[a+e]=c[e];return s}return(0,i.unsafeStringify)(c)}try{r.name=e}catch(e){}return r.DNS=s,r.URL=a,r};var r,i=n(9910),o=(r=n(6792))&&r.__esModule?r:{default:r};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},5073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(6140)),i=s(n(2858)),o=n(9910);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const s=(e=e||{}).random||(e.rng||i.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return(0,o.unsafeStringify)(s)}},7186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(9025)),i=o(n(9042));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("v5",80,i.default);t.default=s},7037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(7656))&&r.__esModule?r:{default:r};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},7775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(7037))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},9326:(e,t,n)=>{"use strict";n.r(t),n.d(t,{genreInfo:()=>i,genres:()=>r});const r=["blackbox","bridges","cube","dominosa","fifteen","filling","flip","flood","galaxies","guess","inertia","keen","lightup","loopy","magnets","map","mines","mosaic","net","netslide","palisade","pattern","pearl","pegs","range","rect","samegame","signpost","singles","sixteen","slant","solo","tents","towers","tracks","twiddle","undead","unequal","unruly","untangle","group"],i={blackbox:{name:"Blackbox",description:"Use beam reflections to locate the hidden marbles.",rules:["Click a wall on the border to fire a beam from it.","Numbers indicate that a beam leaving from one wall will hit the wall with the same number.","An H indicates that the beam will hit a marble.","An R indicates that the beam will be reflected to the same wall.","When a beam enters a tile diagonally adjacent to a marble, it will be deflected 90 degrees away from it.","When a beam enters a tile diagonally adjacent to two marbles, it will be reflected back the way it came.","If a marble is diagonally adjacent to a wall, it will reflect beams from that wall back to the same wall.","Beams are not reflected if a marble is directly in front of them."],controls:{primary:"Toggle marble; Fire laser",secondary:"Freeze cell",arrows:"Select cell"}},bridges:{name:"Bridges",description:"Connect the islands with the indicated number of bridges.",rules:["The total number of bridges extending from an island must equal the island's number.","There are at most 2 bridges between any two islands.","All islands are connected by bridges. (There may be loops.)"]},cube:{name:"Cube",description:"Roll the polyhedron so that all sides are painted blue."},dominosa:{name:"Dominosa",description:"Place dominoes so that each combination of numbers appears once."},fifteen:{name:"Fifteen",description:"Slide the tiles to arrange them in ascending order."},filling:{name:"Filling",description:"Fill the grid with numbers so that each number is connected to that many of itself."},flip:{name:"Flip",description:"Flip all the tiles to white."},flood:{name:"Flood",description:"Make the board a single color using flood-fills."},galaxies:{name:"Galaxies",description:"Divide the grid into rotationally symmetric regions."},group:{name:"Group",description:"Fill in the <a href='https://en.wikipedia.org/wiki/Cayley_table'>Cayley table</a> for a finite group.",hidden:!0,helpLink:"",rules:["In this summary, the letter at row x and column y is notated (xy).","Every letter appears exactly once in each row and column.","For any letters x, y, and z, ((xy)z) and (x(yz)) are the same. (Associativity law)","There is some letter e where, for all x, (ex) and (xe) are both x. (Identity law)","For each letter x, there is some letter y for which (xy) and (yx) are both e, as defined in the identity law. (Inverses law)","(Note: This puzzle is unfinished. See <a href='https://www.chiark.greenend.org.uk/~sgtatham/puzzles/js/group.html'>https://www.chiark.greenend.org.uk/~sgtatham/puzzles/js/group.html</a> for details.)"]},guess:{name:"Guess",description:"Guess the hidden color pattern.",rules:["Black circles indicate how many pegs are correct.","white circles indicate how many pegs are the right color, but in the wrong location."]},inertia:{name:"Inertia",description:"Collect all the gems while avoiding the mines."},keen:{name:"Keen",description:"Fill in numbers to satisfy mathematical operations.",rules:["Each row and column contains the numbers from 1 to the grid size exactly once.","Each region's numbers, when combined with the indicated operation, must form the indicated value.","If the operation is not specified, the numbers are combined using multiplication.","Regions can contain the same number multiple times."]},lightup:{name:"Lightup",description:"Light up the whole grid without shining lights on each other."},loopy:{name:"Loopy",description:"Draw a loop that touches each clue the right number of times."},magnets:{name:"Magnets",description:"Place magnets without letting similar polarities touch."},map:{name:"Map",description:"Color the map using only four colors."},mines:{name:"Mines",description:"Open every cell without clicking mines."},mosaic:{name:"Mosaic",description:"Shade some cells so that each clue is near the right number of shaded cells."},net:{name:"Net",description:"Rotate pieces to form a connected network."},netslide:{name:"NetSlide",description:"Slide rows and columns to form a connected network."},palisade:{name:"Palisade",description:"Divide the grid into regions of a given area."},pattern:{name:"Pattern",description:"Shade some cells so that each row and column has blocks of the indicated lengths."},pearl:{name:"Pearl",description:"Draw a loop that follows the rules of all the pearls.",rules:["The loop must turn at each black pearl, and go straight in both the cells immediately before and after it.","The loop must go straight at each white pearl, and turn in either the cell immediately before or after it (or both).","The loop must touch every pearl."]},pegs:{name:"Pegs",description:"Capture pegs by hopping them over each other until only one remains."},range:{name:"Range",description:"Shade cells so that each clue sees the indicated number of ushaded cells.",rules:["Clues indicate the total number of unshaded cells reachable in a horizontal or vertical line from the clue, including itself.","Shaded cells cannot be adjacent.","The unshaded cells must all be connected."]},rect:{name:"Rect",description:"Divide the grid into rectangles with the indicated areas."},samegame:{name:"SameGame",description:"Clear the grid by removing connected groups of colored blocks."},signpost:{name:"Signpost",description:"Number the cells so that each cell points to the next."},singles:{name:"Singles",description:"Shade some numbers so that there are no duplicates in a row or column.",rules:["Unshaded cells in the same row or column cannot have the same number.","Shaded cells cannot be adjacent.","The unshaded cells must all be connected."]},sixteen:{name:"Sixteen",description:"Slide rows and columns to arrange the numbers in ascending order."},slant:{name:"Slant",description:"Draw a slant in each cell so each clues touches the given number of lines."},solo:{name:"Solo",description:"Fill in numbers so there are no duplicates in a row, column, or block.",rules:["Each row, column, and block contains the numbers from 1 to the grid size exactly once.","If the diagonals are shaded, numbers must not repeat along a diagonal. (X Sudoku)","Cages with thin outlines, if present, must sum to the indicated value. Numbers cannot repeat within a cage. (Killer Sudoku)"]},tents:{name:"Tents",description:"Place a tent next to each tree so that none of them touch.",rules:["Each tree must be next to its own tent, and each tent must be next to its own tree.","A tent can be next to multiple trees, but it must be possible to pair the tents and trees without overlaps.","Tents cannot be adjacent, not even diagonally.","Clues indicate the number of tents in a row or column"]},towers:{name:"Towers",description:"Place towers so that the right amount can be seen from outside."},tracks:{name:"Tracks",description:"Draw train tracks from A to B that occupy the right numbers of cells in each row and column."},twiddle:{name:"Twiddle",description:"Rotate blocks of numbers to arrange them in ascending order."},undead:{name:"Undead",description:"Place monsters so that the right number can be seen through the mirrors.",rules:["Clues around the edge indicate how many monsters can be seen in a straight line from there.","Pre-placed diagonal lines are mirrors.","Vampires can't be seen through mirrors.","Ghosts can only be seen through mirrors.","Zombies are always visible.","Monsters may be counted multiple times if a sightline crosses its own path."]},unequal:{name:"Unequal",description:"Fill in numbers so that the inequality signs are satisfied.",rules:["Each row and column contains the numbers from 1 to the grid size exactly once.","Cells separated by a greater than or less than sign must satisfy that inequality.","If there are grey bars, numbers separated by grey bars must have a difference of 1.","If there are grey bars, numbers not separated by grey bars must have a difference of more than 1."]},unruly:{name:"Unruly",description:"Shade cells so that no line of three cells has the same color."},untangle:{name:"Untangle",description:"Untangle the graph so that no edges cross."},none:{name:"No puzzle loaded",description:"Click a puzzle to start it.",helpLink:""}}},5291:(e,t,n)=>{"use strict";function r(e){return new Promise((function(t,n){e.onsuccess=n=>t(e.result),e.onerror=t=>n(e.error)}))}let i;n.r(t),n.d(t,{GameSave:()=>o,getFile:()=>l,getFileList:()=>a,openDatabase:()=>s});class o{constructor(e){e??={},this.id=e.id??null,this.filename=e.filename??null,this.host=e.host??"",this.port=e.port??0,this.player=e.player??"",this.password=e.password??"",this.baseSeed=""+(e.baseSeed??""),this.description="",this.finished=e.finished??!1,this.solveTarget=e.solveTarget??null,this.puzzles=e.puzzles??[],this.puzzleSolved=e.puzzleSolved??Array(this.puzzles.length).fill(!1),this.puzzleLocked=e.puzzleLocked??Array(this.puzzles.length).fill(!0),this.updateDescription()}async save(){if(-1==this.id)return;const e=i.transaction("gamesave","readwrite"),t=e.objectStore("gamesave");let n=this.toObject();null===n.id&&delete n.id;let o=await r(t.put(n));null===this.id&&(this.id=o),e.commit()}async getPuzzleSave(e){if(-1==this.id)return;const t=i.transaction("puzzlesave").objectStore("puzzlesave");let n=await r(t.get([this.id,e]));return n?n.data:null}async setPuzzleSave(e,t){if(-1==this.id)return;const n=i.transaction("puzzlesave","readwrite").objectStore("puzzlesave");let o={gameId:this.id,puzzleId:e,data:t};await r(n.put(o))}async deleteFile(){if(-1==this.id)return;const e=i.transaction(["gamesave","puzzlesave"],"readwrite"),t=e.objectStore("gamesave");let n=[],o=async function*(e){let t;do{t=await r(e),t&&(yield t,t.continue())}while(t)}(e.objectStore("puzzlesave").index("gameId").openCursor(this.id));for await(let e of o)n.push(e.delete());n.push(r(t.delete(this.id))),e.commit(),await Promise.allSettled(n)}updateDescription(){this.description=this.toString()}toString(){return this.filename??`${this.player} (${this.host}:${this.port}${this.password?"*":""}), ${this.puzzles.length} puzzles`}toObject(){return{id:this.id,fliename:this.filename,host:this.host,port:this.port,player:this.player,password:this.password,baseSeed:this.baseSeed,finished:this.finished,puzzles:this.puzzles.slice(),puzzleSolved:this.puzzleSolved.slice(),puzzleLocked:this.puzzleLocked.slice(),solveTarget:this.solveTarget}}static fromObject(e){return new o(e)}}async function s(){let e=indexedDB.open("ap-puzzles",1);e.onupgradeneeded=function(t){let n=e.result;console.log("Creating indexedDB stores"),t.oldVersion<1&&(n.createObjectStore("gamesave",{keyPath:"id",autoIncrement:!0}),n.createObjectStore("puzzlesave",{keyPath:["gameId","puzzleId"]}).createIndex("gameId","gameId"))},i=await r(e)}async function a(){let e=i.transaction("gamesave").objectStore("gamesave"),t=await r(e.getAll());return t=t.map((e=>o.fromObject(e))),t}async function l(e){return new o.fromObject}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};const{Client:r,ITEMS_HANDLING_FLAGS:i,SERVER_PACKET_TYPE:o,LocationsManager:s,ReceivedItemsPacket:a,CLIENT_STATUS:l}=n(4744),c=n(8705).A,u=n(5291),{GameSave:d,getFile:f,getFileList:h,openDatabase:p}=u,{config:_}=n(8456),{genres:m,genreInfo:v}=n(9326);let g;document.addEventListener("alpine:init",(function(){console.log("puzzles.html: onInit"),async function(){await p(),console.log("Savedata open"),await async function(){const e=c.store("gamesaves");e.list=await h();let t=new d({id:-1,filename:"Freeplay",puzzles:m.filter((e=>!0)),puzzleLocked:m.map((e=>!1))});e.list.unshift(t),e.loadFile(t)}(),console.log("File list loaded")}(),c.store("puzzleList",{entries:[],sortedEntries:[],currentIndex:-1,current:null,solveCount:0,solveTarget:null,finished:!1,sortBySolved:!1,selectPuzzle(e){if(!e)return this.currentIndex=-1,void(this.current=null);e.locked&&!c.store("debugMode")||e.index==this.currentIndex||(this.currentIndex=e.index,this.current=e,e.puzzleId?P(e.genre,e.puzzleId,!0):e.puzzleSeed?P(e.genre,e.puzzleSeed,!0):P(e.genre,"",!1))},markSolved(){if(this.current){this.current.onSolve();const e=c.store("gamesaves");this.current.index&&e.current&&(A(),e.current.puzzleSolved[this.current.index-1]=!0,e.current.save()),this.resort()}},resort(){function e(e,t){return e<t?-1:e>t?1:0}function t(e){return e.solved?1:e.locked?2:0}var n=this.entries.slice();this.sortBySolved?n.sort(((n,r)=>e(t(n),t(r))||e(n.id,r.id))):n.sort(((t,n)=>e(t.id,n.id))),this.sortedEntries=n,this.solveCount=this.entries.reduce(((e,t)=>t.solved?e+1:e),0)},onFinishClick(){null!==this.solveTarget&&this.solveCount>=this.solveTarget&&(y.updateStatus(l.GOAL),this.finished=!0,c.store("gamesaves").markFinished())}}),c.store("puzzleList").resort(),c.store("puzzleState",{onSolve(){this.solved=!0},undoEnabled:!1,redoEnabled:!1,solveEnabled:!0,primaryKeyLabel:"",secondaryKeyLabel:"",loaded:!1,solved:!1,status:0,genre:null,genreInfo:v.none,gameId:"",gameSeed:"",reset(){this.solved=!1,this.undoEnabled=!1,this.redoEnabled=!1,this.solveEnabled=!0,this.primaryKeyLabel="",this.secondaryKeyLabel="",this.loaded=!1,this.solved=!1,this.status=0,this.genre=null,this.genreInfo=v.none,this.gameId="",this.gameSeed=""}}),c.store("singleMode",!1),c.store("puzzlePresets",[]),c.store("puzzleDialog",{controls:[],visible:!1,addControl(e,t,n,r,i){"choice"==t?this.controls.push({index:e,type:t,title:n,value:r,choices:i}):this.controls.push({index:e,type:t,title:n,value:r})},confirm:x,cancel:C,dismiss(){this.controls=[],this.visible=!1}}),c.store("errorMessage",{message:"",visible:!1,show(e){this.message=e,this.visible=!0},dismiss(){this.visible=!1}}),c.store("status",{message:"",visible:!1,set(e){this.message=e,this.visible=!0},hide(){this.message="",this.visible=!1}}),c.store("debugLoader",{genre:"net",id:"",singleMode:!1,load(){c.store("puzzleList").selectPuzzle(null),P(this.genre,this.id,this.singleMode)}}),c.store("connectionInfo",{hostname:_.defaultHost,port:"38281",player:"Player1",password:"",connect(){!async function(e,t,n,r){const i=c.store("gamesaves");i.connecting=!0,U(),i.apError=!1;try{await k(e,t,n,r)}catch(e){return alert("Couldn't connect to Archipelago server."),console.error("Couldn't connect to Archipelago server"),console.error(e),void(i.connecting=!1)}let o=y.data.slotData,s=new d({host:e,port:t,player:n,password:r,puzzles:o.puzzles,baseSeed:""+o.world_seed,solveTarget:o.solve_target});await S(),D(s),await s.save(),E=!0,i.connecting=!1,i.list.push(s),i.current=s,R()}(this.hostname,+this.port,this.player,this.password)},replaceConnectionInfo(){let e=c.store("gamesaves").current,t={host:this.hostname,port:+this.port,player:this.player,password:this.password};e&&-1!=e.id&&I(e,!1,t)}}),c.store("gamesaves",{list:[],current:null,apError:!1,connecting:!1,loadFile(e,t){I(e,t)},deleteFile(e){confirm(`${e.toString()}: Delete this file?`)&&async function(e){await e.deleteFile();const t=c.store("gamesaves");c.store("puzzleList");let n=t.list.indexOf(e);n>-1&&t.list.splice(n,1),t.current==e&&(S(),t.current=null,D(null))}(e)},markFinished(){this.current&&(this.current.finished=!0,this.current.save())}}),c.store("genres",m),c.store("config",_),T(),g=document.getElementById("puzzleframe")}));let y,E=!1;class b{constructor(e){this.genre=e.genre,this.params=e.params,this.desc="",this.index=e.index,this.puzzleId=e.puzzleId,this.puzzleSeed=e.puzzleSeed,this.solved=e.solved??!1,this.collected=e.collected??!1,this.locked=e.locked??!1,this.item=e.item,this.state="",this.updateDescription(),this.updateState()}updateDescription(){let e=v[this.genre].name;this.params?this.desc=`${e}: ${this.params}`:this.desc=e}updateState(){this.locked?this.state="locked":this.solved?this.state="solved":this.state="unlocked"}onSolve(){if(this.solved=!0,this.updateState(),E){let e=j(`Puzzle ${this.index} Reward`);y.locations.check(e)}}static fromArchipelagoString(e,t,n,r){let i=""+n;i=i.padStart(3,"0");let o=`${i}${t}`,s=/^([^:]*)(:(.*))?$/.exec(e);return r??={},r.genre=s[1],r.params=s[3]??"",r.puzzleSeed=`${r.params}#${o}`,r.index=n,new b(r)}static fromPuzzlesString(e,t,n,r){if(r??={},t){let e=/^([^:#]*)([:#]?)/.exec(t);r.params=e[1],":"==e[2]?r.puzzleId=t:r.puzzleSeed=t}else r.params="";return r.index??=n,r.genre=e,new b(r)}}function w(e,...t){g&&g.contentWindow.postMessage([e,...t])}function T(){c.store("puzzleState").reset(),c.store("puzzlePresets",[]),c.store("puzzleDialog").dismiss(),c.store("status").hide(),c.store("errorMessage").dismiss()}async function P(e,t,n){let r=c.store("debugLoader"),i=c.store("puzzleState");e||(t=void 0,n=!0),T(),r.genre=e,r.id=t,r.singleMode=!!n,i.genre=e,i.genreInfo=v[e||"none"],c.store("singleMode",!!n);const o=c.store("gamesaves");let s=!1;o.current&&t&&await o.current.getPuzzleSave(t)&&(s=!0);let a=[];e&&a.push({key:"g",value:e}),t&&!s&&a.push({key:"i",value:t}),!n&&e||a.push({key:"s",value:"true"});let l=a.map((e=>`${e.key}=${encodeURIComponent(e.value)}`)).join("&");g.src=null,g.src=`puzzleframe.html?${l}`,g.width=0,g.height=0}async function S(){return await P("")}const O={ready:function(){console.log("puzzles.html: puzzleframe ready")},js_init_puzzle:function(){},js_post_init:function(){N(),c.store("puzzleState").loaded=!0},js_update_permalinks:function(e,t){let n=c.store("puzzleState");n.gameId=e,n.gameSeed=t},js_enable_undo_redo:function(e,t){c.store("puzzleState").undoEnabled=!!e,c.store("puzzleState").redoEnabled=!!t},js_remove_solve_button:function(){c.store("puzzleState").solveEnabled=!1},js_update_status:function(e){let t=c.store("puzzleState");t.status=e,1!=t.status||t.solved||(console.log("woo hoo"),t.solved=!0,c.store("puzzleList").markSolved())},js_update_key_labels:function(e,t){let n=c.store("puzzleState");n.primaryKeyLabel=e,n.secondaryKeyLabel=t},js_add_preset:function(e,t,n){let r={menuId:e,name:t,id:n};c.store("puzzlePresets").push(r)},js_add_preset_submenu:function(){},js_select_preset:function(e){},js_dialog_init:function(){c.store("puzzleDialog").controls=[]},js_dialog_string:function(e,t,n){c.store("puzzleDialog").addControl(e,"string",t,n)},js_dialog_choices:function(e,t,n,r){let i=n.split(n[0]);i.shift(),c.store("puzzleDialog").addControl(e,"choice",t,r,i)},js_dialog_boolean:function(e,t,n){c.store("puzzleDialog").addControl(e,"boolean",t,!!n)},js_dialog_launch:function(){c.store("puzzleDialog").visible=!0},js_dialog_cleanup:function(){c.store("puzzleDialog").dismiss()},js_canvas_set_statusbar:function(e){c.store("status").set(e)},js_canvas_remove_statusbar:function(){c.store("status").hide()},js_canvas_set_size:function(e,t){g.width=e/window.devicePixelRatio,g.height=t/window.devicePixelRatio},js_error_box:function(e){c.store("errorMessage").show(e)},js_focus_canvas:function(){},savePuzzleDataCallback:function(e){console.log("Save file ready");const t=c.store("gamesaves"),n=c.store("puzzleList");t.current&&n.current&&t.current.setPuzzleSave(n.current.index,e)}};function x(){let e=c.store("puzzleDialog");for(let t of e.controls)switch(t.type){case"string":w("dialogReturnString",t.index,t.value);break;case"choice":w("dialogReturnInt",t.index,t.value);break;case"boolean":w("dialogReturnInt",t.index,t.value?1:0)}w("dialogConfirm")}function C(){w("dialogCancel")}function A(){w("savePuzzleData")}async function N(){const e=c.store("gamesaves"),t=c.store("puzzleList");if(!e.current||!t.current)return;let n=await e.current.getPuzzleSave(t.current.index);n&&w("loadPuzzleData",n)}function z(e){return y.items.received.findIndex((t=>t.item==e))>-1}function R(){const e=c.store("puzzleList");if(!E)return void e.resort();let t=!0,n=c.store("gamesaves").current,r=!1;for(let o of e.entries){let e=!1,s=(i=`Puzzle ${o.index}`,y.data.package.get("Simon Tatham's Portable Puzzle Collection").item_name_to_id[i]),a=j(`Puzzle ${o.index} Reward`);!o.collected&&y.locations.checked.includes(a)?(o.collected=!0,e=!0):o.collected||(t=!1),o.locked&&z(s)&&(o.locked=!1,e=!0,n&&n.puzzleLocked[o.index-1]&&(n.puzzleLocked[o.index-1]=!1,r=!0)),e&&o.updateState()}var i;e.resort(),r&&n.save()}async function I(e,t,n){const r=c.store("gamesaves");r.connecting=!0,r.current=e,U(),r.apError=!1;let i,o,s,a,l=!1;if(n?(i=n.host??e.host,o=n.port??e.port,s=n.player??e.player,a=n.password??e.password):(i=e.host,o=e.port,s=e.player,a=e.password),i)try{await k(i,o,s,a),l=!0}catch(e){n?alert("Couldn't connect to Archipelago server. Reload this file to connect with previous information."):alert("Couldn't connect to Archipelago server. (You can still solve unlocked puzzles on this file.)"),r.apError=!0,console.error(e)}l&&function(){let t=y.data.slotData;if(e.baseSeed!=""+t.world_seed)return!0;if(e.puzzles.length!=t.puzzles.length)return!0;for(let n=0;n<e.puzzles.length;n++)if(e.puzzles[n]!=t.puzzles[n])return!0;return!1}()&&(n?alert("The Archipelago server data doesn't match this save file. Reload this file to connect with previous information."):alert("The Archipelago server data doesn't match this save file. (You can still solve unlocked puzzles.)"),U(),l=!1,r.apError=!0),n&&l&&(e.host=i,e.port=o,e.player=s,e.password=a,e.updateDescription(),e.save()),await S(),D(e,t),l&&(E=!0),r.connecting=!1,R()}function M(e){E&&R()}function L(e){console.log(e)}async function k(e,t,n,o){y||(y=new r,window.client=y),y.addListener("ReceivedItems",M),y.addListener("RoomUpdate",R),y.addListener("PacketReceived",L),console.log("connecting to AP...");const s={hostname:e,port:t,game:"Simon Tatham's Portable Puzzle Collection",name:n,password:o,items_handling:i.REMOTE_ALL};await y.connect(s),console.log("connected to AP")}function j(e){return y.data.package.get("Simon Tatham's Portable Puzzle Collection").location_name_to_id[e]}function D(e,t){const n=c.store("puzzleList");t&&console.log("waow");let r=e.id<0;n.entries=[],n.sortedEntries=[],n.selectPuzzle(null),n.solveTarget=e?.solveTarget??null,n.finished=e.finished,n.sortBySolved=!r;for(let i=0;i<e.puzzles.length;i++){let o,s={locked:e.puzzleLocked[i],solved:e.puzzleSolved[i]};if(r){if(o=b.fromPuzzlesString(e.puzzles[i],null,i+1),v[o.genre].hidden&&!t)continue}else o=b.fromArchipelagoString(e.puzzles[i],e.baseSeed,i+1,s);n.entries.push(o)}n.resort()}function U(){y&&(E=!1,console.log("disconnecting from AP..."),y.disconnect())}window.onmessage=function(e){if(!e.data[Symbol.iterator])return;let[t,...n]=e.data;if(t){let r=O[t];r?r(...n):(console.log("to puzzles.html:",e.data),console.warn("No handler found for message",e.data[0]))}},window.showPreferences=function(){w("showPreferences")},window.newPuzzle=function(){w("newPuzzle"),c.store("puzzleState").solved=!1},window.restartPuzzle=function(){w("restartPuzzle")},window.undoPuzzle=function(){w("undoPuzzle")},window.redoPuzzle=function(){w("redoPuzzle")},window.solvePuzzle=function(){w("solvePuzzle"),c.store("puzzleList").markSolved()},window.setPreset=function(e){w("setPreset",e)},window.savePuzzleData=A,window.loadPuzzleData=N,window.Alpine=c,window.store=c.store,window.client=y,window.Client=r,window.ArchipelagoPuzzle=b,window.syncAPStatus=R,window.SaveData=u,window.loadPuzzle=P,c.start()})();